<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Form</title>
</head>
<body>
    <h1>Program & Course Form</h1>
    <form id="courseForm">
        <!-- Form Fields Here (Same as before) -->
        <label for="programId">Program ID:</label>
        <input type="text" id="programId" name="programId" ><br><br>

        <label for="courseName">Course Name:</label>
        <input type="text" id="courseName" name="courseName" ><br><br>

        <label for="courseImage">Course Image:</label>
        <input type="file" id="courseImage" name="courseImage" accept="image/*" ><br><br>

        <label for="collageName">Collage Name:</label>
        <input type="text" id="collageName" name="collageName" ><br><br>

        <label for="courseDescription">Course Description:</label>
        <textarea id="courseDescription" name="courseDescription" ></textarea><br><br>

        <label for="courseLength">Course Length:</label>
        <input type="text" id="courseLength" name="courseLength" ><br><br>

        <label for="credentials">Credentials:</label>
        <input type="text" id="credentials" name="credentials" ><br><br>

        <label for="availibleIntakes">Available Intakes:</label>
        <input type="text" id="availibleIntakes" name="availibleIntakes" ><br><br>

        <label for="openIntakes">Open Intakes:</label>
        <input type="text" id="openIntakes" name="openIntakes" ><br><br>

        <label for="applicationFee">Application Fee:</label>
        <input type="text" id="applicationFee" name="applicationFee" ><br><br>

        <label for="LOAdeposit">LOA Deposit:</label>
        <input type="text" id="LOAdeposit" name="LOAdeposit" ><br><br>

        <label for="annualTuitionFee">Annual Tuition Fee:</label>
        <input type="text" id="annualTuitionFee" name="annualTuitionFee" ><br><br>

        <label for="commissionAmount">Commission Amount:</label>
        <input type="text" id="commissionAmount" name="commissionAmount" ><br><br>

        <label for="commissionCurrency">Commission Currency:</label>
        <input type="text" id="commissionCurrency" name="commissionCurrency" ><br><br>

        <label for="commissionType">Commission Type:</label>
        <input type="text" id="commissionType" name="commissionType" ><br><br>

        <label for="commissionInstallments">Commission Installments:</label>
        <input type="text" id="commissionInstallments" name="commissionInstallments" ><br><br>

        <label for="published">Published (Yes/No):</label>
        <input type="text" id="published" name="published" ><br><br>

        <label for="publishedDate">Published Date:</label>
        <input type="date" id="publishedDate" name="publishedDate" ><br><br>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById('courseForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent the default form submission

            const formData = new FormData(this);

            // Log the form data to inspect what is being sent
            for (const [key, value] of formData.entries()) {
                console.log(`${key}: ${value}`);
            }

            try {
                const response = await fetch('http://localhost:3000/program-courses/create', {
                    method: 'POST',
                    body: formData,
                });

                if (!response.ok) {
                    const errorResponse = await response.json();
                    console.error('Error response:', errorResponse);
                    throw new Error(`Network response was not ok: ${response.statusText}`);
                }

                const result = await response.json();
                console.log('Success:', result);
                alert('Form submitted successfully!');
            } catch (error) {
                console.error('Error:', error);
                alert('There was a problem with the submission.');
            }
        });
    </script>
</body>
</html>
